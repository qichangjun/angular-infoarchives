// Generated by CoffeeScript 1.9.1
(function() {
  'use strict';
  angular.module("myApp").controller("statisticsController", [
    '$scope', '$log', '$state', 'mdDialogService', '$timeout', '$mdToast', '$stateParams', function($scope, $log, $state, mdDialogService, $timeout, $mdToast, $stateParams) {
      var getDepartmentLists, getLegalPerson, getPersonalService, getTopTen, init, updateColumnCharts, vm;
      vm = this;
      vm.parameter = $stateParams;
      vm.parameter.year = 'all';
      vm.parameter.system = 'all';
      init = function() {
        updateColumnCharts();
        getDepartmentLists();
        getLegalPerson();
        getPersonalService();
        getTopTen();
      };
      getTopTen = function() {
        return $('#topTen').highcharts({
          chart: {
            type: 'bar'
          },
          title: {
            text: '部门数据总量TOP10'
          },
          subtitle: {
            text: ''
          },
          xAxis: {
            categories: ['部门1', '部门2', '部门3', '部门4', '部门5', '部门6', '部门7', '部门8', '部门9', '部门10'],
            title: {
              text: null
            }
          },
          yAxis: {
            min: 0,
            title: {
              text: '数据量',
              align: 'high'
            },
            labels: {
              overflow: 'justify'
            }
          },
          tooltip: {
            valueSuffix: ' 百万'
          },
          plotOptions: {
            bar: {
              dataLabels: {
                enabled: true,
                allowOverlap: true
              }
            }
          },
          credits: {
            enabled: false
          },
          series: [
            {
              name: '总数据量',
              data: [635, 515, 411, 308, 275, 251, 203, 107, 31, 2]
            }
          ],
          legend: {
            enabled: false
          }
        });
      };
      getPersonalService = function() {
        return $('#personalService').highcharts({
          chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            spacing: [100, 0, 40, 0]
          },
          credits: {
            text: '',
            href: ''
          },
          title: {
            floating: true,
            text: ''
          },
          tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
          },
          plotOptions: {
            pie: {
              allowPointSelect: true,
              cursor: 'pointer',
              dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                style: {
                  color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                }
              }
            }
          },
          series: [
            {
              type: 'pie',
              innerSize: '40%',
              name: '市场份额',
              data: [
                {
                  name: 'Firefox',
                  y: 45.0,
                  url: 'http://bbs.hcharts.cn'
                }, ['IE', 26.8], {
                  name: 'Chrome',
                  y: 12.8,
                  sliced: true,
                  selected: true,
                  url: 'http://www.hcharts.cn'
                }, ['Safari', 8.5], ['Opera', 6.2], ['其他', 0.7]
              ]
            }
          ]
        });
      };
      getLegalPerson = function() {
        return $('#legonPerson').highcharts({
          chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            spacing: [100, 0, 40, 0]
          },
          credits: {
            text: '',
            href: ''
          },
          title: {
            floating: true,
            text: ''
          },
          tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
          },
          plotOptions: {
            pie: {
              allowPointSelect: true,
              cursor: 'pointer',
              dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                style: {
                  color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                }
              }
            }
          },
          series: [
            {
              type: 'pie',
              innerSize: '40%',
              name: '市场份额',
              data: [
                {
                  name: 'Firefox',
                  y: 45.0,
                  url: 'http://bbs.hcharts.cn'
                }, ['IE', 26.8], {
                  name: 'Chrome',
                  y: 12.8,
                  sliced: true,
                  selected: true,
                  url: 'http://www.hcharts.cn'
                }, ['Safari', 8.5], ['Opera', 6.2], ['其他', 0.7]
              ]
            }
          ]
        });
      };
      getDepartmentLists = function() {
        return vm.departmentLists = [
          {
            name: '部门1',
            value: 100
          }, {
            name: '部门2',
            value: 90
          }, {
            name: '部门3',
            value: 80
          }, {
            name: '部门4',
            value: 70
          }, {
            name: '部门5',
            value: 60
          }, {
            name: '部门6',
            value: 50
          }, {
            name: '部门7',
            value: 40
          }
        ];
      };
      updateColumnCharts = function() {
        $('#container').highcharts({
          chart: {
            type: 'column'
          },
          title: {
            text: '测试数据'
          },
          legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top',
            borderWidth: 0,
            symbolRadius: 0
          },
          subtitle: {
            text: '数据来源: infoarchives'
          },
          credits: {
            text: '',
            href: ''
          },
          xAxis: {
            categories: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
            crosshair: true
          },
          yAxis: {
            min: 0,
            title: {
              text: '测试数据 (mm)'
            }
          },
          tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' + '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
          },
          plotOptions: {
            column: {
              pointPadding: 0.2,
              borderWidth: 0
            }
          },
          series: [
            {
              name: '数据1',
              data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
            }, {
              name: '数据2',
              data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]
            }, {
              name: '数据3',
              data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]
            }, {
              name: '数据4',
              data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]
            }
          ]
        });
      };
      init();
    }
  ]);

}).call(this);

//# sourceMappingURL=statistics.controller.js.map
